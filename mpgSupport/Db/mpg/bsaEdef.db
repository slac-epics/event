#! Generated by VisualDCT v2.5
#! DBDSTART
#! DBD("../../dbd/edef.dbd")
#! DBDEND


record(bo, "EDEF:$(SYS):$(MD):CTRL") {
  field(DESC, "State Control")
  field(ZNAM, "OFF")
  field(ZSV, "MAJOR")
  field(ONAM, "ON")
  field(DOL, "$(CTRL)")
  field(OUT, "EDEF:$(SYS):$(MD):CTRLSEL.A PP")
  field(PINI, "YES")
  field(OMSL, "supervisory")
}

record(mbbo, "EDEF:$(SYS):$(MD):MODE") {
  field(DESC, "Acquisition Mode")
  field(ZRST, "USER")
  field(ONST, "SYSTEM")
  field(DOL, "$(MODE)")
  field(PINI, "YES")
}

record(stringout, "EDEF:$(SYS):$(MD):NAME") {
  field(DESC, "EDEF name")
  field(VAL, "$(NAME)")
  field(PINI, "YES")
  field(FLNK, "EDEF:$(SYS):$(MD):NAMETOD")
}

record(stringout, "EDEF:$(SYS):$(MD):USERNAME") {
  field(DESC, "Owner Name")
  field(VAL, "$(USER)")
  field(PINI, "YES")
}

record(timestamp, "EDEF:$(SYS):$(MD):NAMETOD") {
  field(DESC, "Last reserved tod")
}

record(longout, "EDEF:$(SYS):$(MD):BEAMCODE") {
  field(DESC, "Beam Code")
  field(DRVH, "256")
  field(DRVL, "-1")
  field(DOL, "1")
  field(MDEL, "-1")
  field(PINI, "YES")
  field(OUT, "EDEF:$(SYS):$(MD):PATTERNCHECK.I")
}

record(sSub, "EDEF:$(SYS):$(MD):PATTERNCHECK") {
  field(DESC, "Check if Pulse Used")
  field(SNAM, "mpgPatternCheck")
  field(INPB, "$(DEV):PNET.J MS")
  field(INPD, "$(DEV):PNET.D MS")
  field(INPE, "$(DEV):PNET.E MS")
  field(INPF, "$(DEV):PNET.F MS")
  field(INPG, "$(DEV):PNET.G MS")
  field(INPH, "$(DEV):PNET.H MS")
  field(INPW, "$(DEV):PNET.SEVR")
  field(BRSV, "INVALID")
  field(DISV, "0")
  field(DISS, "INVALID")
  field(FLNK, "EDEF:$(SYS):$(MD):CTRLOFF")
}

record(calc, "EDEF:$(SYS):$(MD):CTRLSEL") {
  field(FLNK, "EDEF:$(SYS):$(MD):CTRLFO")
  field(CALC, "A+1")
  field(INPB, "EDEF:$(SYS):$(MD):CTRLONTOD.PROC PP")
}

record(fanout, "EDEF:$(SYS):$(MD):CTRLFO") {
  field(SELM, "Specified")
  field(SELL, "EDEF:$(SYS):$(MD):CTRLSEL")
  field(LNK1, "EDEF:$(SYS):$(MD):DISABLE PP")
  field(LNK2, "EDEF:$(SYS):$(MD):CTRLON PP")
}

record(seq, "EDEF:$(SYS):$(MD):CTRLON") {
  field(DOL1, "0")
  field(LNK1, "EDEF:$(SYS):$(MD):PATTERNCHECK.A")
  field(DOL2, "0")
  field(LNK2, "EDEF:$(SYS):$(MD):PATTERNCHECK.Y")
  field(DOL3, "0")
  field(LNK3, "EDEF:$(SYS):$(MD):PATTERNCHECK.Z")
  field(LNK4, "EDEF:$(SYS):$(MD):RESET.PROC PP")
  field(DOL5, "1")
  field(LNK5, "EDEF:$(SYS):$(MD):PATTERNCHECK.DISA")
}

record(seq, "EDEF:$(SYS):$(MD):RESET") {
  field(DOL1, "1")
  field(LNK1, "PATT:$(SYS):1:MODIFIER1HST$(MDID).RES")
  field(DOL2, "1")
  field(LNK2, "PATT:$(SYS):1:MODIFIER2HST$(MDID).RES")
  field(DOL3, "1")
  field(LNK3, "PATT:$(SYS):1:MODIFIER3HST$(MDID).RES")
  field(DOL4, "1")
  field(LNK4, "PATT:$(SYS):1:MODIFIER4HST$(MDID).RES")
  field(DOL5, "1")
  field(LNK5, "PATT:$(SYS):1:MODIFIER5HST$(MDID).RES")
  field(DOL6, "1")
  field(LNK6, "PATT:$(SYS):1:PULSEIDHST$(MDID).RES")
  field(DOL7, "1")
  field(LNK7, "PATT:$(SYS):1:BUNCHARGEHST$(MDID).RES")
  field(DOL8, "0")
  field(LNK8, "EDEF:$(SYS):$(MD):PATTERNCHECK.Y")
  field(DOLA, "1")
  field(LNKA, "$(DEV):EDEFINIT.$(BIT)")
}

record(bo, "EDEF:$(SYS):$(MD):DISABLE") {
  field(OUT, "EDEF:$(SYS):$(MD):PATTERNCHECK.DISA")
  field(DOL, "0")
  field(OMSL, "closed_loop")
}

record(longout, "EDEF:$(SYS):$(MD):CNT") {
  field(DESC, "Actual Meas Count")
  field(SCAN, "1 second")
  field(DOL, "EDEF:$(SYS):$(MD):PATTERNCHECK.Y")
  field(HOPR, "280000")
  field(LOPR, "0")
  field(MDEL, "-1")
  field(OMSL, "closed_loop")
}

record(timestamp, "EDEF:$(SYS):$(MD):CTRLONTOD") {
  field(DESC, "EDEF Activation Time")
  field(DISV, "2")
  field(SDIS, "EDEF:$(SYS):$(MD):CTRLSEL")
}

record(bo, "EDEF:$(SYS):$(MD):CTRLOFF") {
  field(DISV, "0")
  field(SDIS, "EDEF:$(SYS):$(MD):PATTERNCHECK.Z")
  field(OMSL, "closed_loop")
  field(DOL, "0")
  field(OUT, "EDEF:$(SYS):$(MD):CTRL.VAL PP")
}

record(stringout, "EDEF:$(SYS):$(MD):USERNAMEFREE") {
  field(DESC, "Clear Owner Name")
  field(VAL, "$(USER)")
  field(OMSL, "closed_loop")
  field(OUT, "EDEF:$(SYS):$(MD):USERNAME PP")
}

record(seq, "EDEF:$(SYS):$(MD):FREE") {
  field(DESC, "Free EDEF")
  field(LNK1, "EDEF:$(SYS):$(MD):CTRL PP")
  field(LNK2, "EDEF:$(SYS):$(MD):NAMEFREE.PROC")
  field(LNK3, "EDEF:$(SYS):$(MD):USERNAMEFREE.PROC")
}

record(stringout, "EDEF:$(SYS):$(MD):NAMEFREE") {
  field(DESC, "Clear Name")
  field(VAL, "$(NAME)")
  field(OMSL, "closed_loop")
  field(OUT, "EDEF:$(SYS):$(MD):NAME PP")
}

record(stringout, "EDEF:$(SYS):$(MD):INCMS1") {
}

record(stringout, "EDEF:$(SYS):$(MD):INCMS2") {
}

record(stringout, "EDEF:$(SYS):$(MD):INCMS3") {
}

record(stringout, "EDEF:$(SYS):$(MD):INCMS4") {
}

record(stringout, "EDEF:$(SYS):$(MD):INCMS5") {
}

record(stringout, "EDEF:$(SYS):$(MD):EXCMS1") {
}

record(stringout, "EDEF:$(SYS):$(MD):EXCMS2") {
}

record(stringout, "EDEF:$(SYS):$(MD):EXCMS3") {
}

record(stringout, "EDEF:$(SYS):$(MD):EXCMS4") {
}

record(stringout, "EDEF:$(SYS):$(MD):EXCMS5") {
}

record(fanout, "EDEF:$(SYS):$(MD):PATTERNFO") {
  field(FLNK, "PATT:$(SYS):1:PULSEID$(MDID)")
  field(LNK1, "PATT:$(SYS):1:MODIFIER1$(MDID)")
  field(LNK2, "PATT:$(SYS):1:MODIFIER2$(MDID)")
  field(LNK3, "PATT:$(SYS):1:MODIFIER3$(MDID)")
  field(LNK4, "PATT:$(SYS):1:MODIFIER4$(MDID)")
  field(LNK5, "PATT:$(SYS):1:MODIFIER5$(MDID)")
  field(LNK6, "PATT:$(SYS):1:BUNCHARGE$(MDID)")
  field(DISV, "0")
  field(SDIS, "$(DEV):MODIFIER5.$(BIT)")
}

record(mbbo, "EDEF:$(SYS):$(MD):MEASSEVR") {
  field(DESC, "meas bad SEVR level")
  field(ZRST, "NONE")
  field(ONST, "MINOR")
  field(TWST, "MAJOR")
  field(THST, "INVALID")
  field(PINI, "YES")
  field(DOL, "3")
  field(OUT, "$(DEV):EDEFMEASSEVR.$(BIT) PP")
}

record(longout, "EDEF:$(SYS):$(MD):AVGCNT") {
  field(DESC, "Number Pulses to Average")
  field(DRVH, "100")
  field(DOL, "$(NAVG)")
  field(MDEL, "-1")
  field(PINI, "YES")
  field(HOPR, "10")
  field(LOPR, "0")
  field(DRVL, "1")
  field(OUT, "EDEF:$(SYS):$(MD):PATTERNCHECK.C")
  field(FLNK, "EDEF:$(SYS):$(MD):CNTMAX")
}

# DRVH limit on VAL needs to be at least 2800 (SCP limit) but can be made larger later if needed.
record(longout, "EDEF:$(SYS):$(MD):MEASCNT") {
  field(DESC, "Number of Points to Measure")
  field(DRVH, "2800")
  field(DRVL, "-1")
  field(MDEL, "-1")
  field(PINI, "YES")
  field(DOL, "$(NMEAS)")
  field(HOPR, "2800")
  field(LOPR, "-1")
  field(OUT, "EDEF:$(SYS):$(MD):PATTERNCHECK.X")
  field(FLNK, "EDEF:$(SYS):$(MD):CNTMAX")
}

record(calcout, "EDEF:$(SYS):$(MD):CNTMAX") {
  field(DESC, "Maximum Pulses")
  field(CALC, "A*B")
  field(INPA, "EDEF:$(SYS):$(MD):AVGCNT")
  field(INPB, "EDEF:$(SYS):$(MD):MEASCNT")
  field(HOPR, "280000")
  field(LOPR, "0")
  field(MDEL, "-1")
  field(OUT, "EDEF:$(SYS):$(MD):PATTERNCHECK.J")
}

#! Further lines contain data used by VisualDCT
#! View(896,1698,0.7)
#! Record("EDEF:$(SYS):$(MD):CTRL",900,2448,0,1,"EDEF:$(SYS):$(MD):CTRL")
#! Field("EDEF:$(SYS):$(MD):CTRL.OUT",16777215,1,"EDEF:$(SYS):$(MD):CTRL.OUT")
#! Link("EDEF:$(SYS):$(MD):CTRL.OUT","EDEF:$(SYS):$(MD):CTRLSEL.A")
#! Field("EDEF:$(SYS):$(MD):CTRL.VAL",16777215,1,"EDEF:$(SYS):$(MD):CTRL.VAL")
#! Field("EDEF:$(SYS):$(MD):CTRL.DOL",16777215,1,"EDEF:$(SYS):$(MD):CTRL.DOL")
#! Record("EDEF:$(SYS):$(MD):MODE",940,1432,0,0,"EDEF:$(SYS):$(MD):MODE")
#! Field("EDEF:$(SYS):$(MD):MODE.DOL",16777215,1,"EDEF:$(SYS):$(MD):MODE.DOL")
#! Record("EDEF:$(SYS):$(MD):NAME",680,2666,0,1,"EDEF:$(SYS):$(MD):NAME")
#! Field("EDEF:$(SYS):$(MD):NAME.FLNK",16777215,1,"EDEF:$(SYS):$(MD):NAME.FLNK")
#! Link("EDEF:$(SYS):$(MD):NAME.FLNK","EDEF:$(SYS):$(MD):NAMETOD")
#! Field("EDEF:$(SYS):$(MD):NAME.VAL",16777215,1,"EDEF:$(SYS):$(MD):NAME.VAL")
#! Record("EDEF:$(SYS):$(MD):USERNAME",660,2900,0,1,"EDEF:$(SYS):$(MD):USERNAME")
#! Field("EDEF:$(SYS):$(MD):USERNAME.VAL",16777215,0,"EDEF:$(SYS):$(MD):USERNAME.VAL")
#! Record("EDEF:$(SYS):$(MD):NAMETOD",940,2749,0,0,"EDEF:$(SYS):$(MD):NAMETOD")
#! Record("EDEF:$(SYS):$(MD):BEAMCODE",1140,2023,0,1,"EDEF:$(SYS):$(MD):BEAMCODE")
#! Field("EDEF:$(SYS):$(MD):BEAMCODE.OUT",16777215,1,"EDEF:$(SYS):$(MD):BEAMCODE.OUT")
#! Link("EDEF:$(SYS):$(MD):BEAMCODE.OUT","EDEF:$(SYS):$(MD):PATTERNCHECK.I")
#! Record("EDEF:$(SYS):$(MD):PATTERNCHECK",2760,2496,0,0,"EDEF:$(SYS):$(MD):PATTERNCHECK")
#! Field("EDEF:$(SYS):$(MD):PATTERNCHECK.C",16777215,0,"EDEF:$(SYS):$(MD):PATTERNCHECK.C")
#! Field("EDEF:$(SYS):$(MD):PATTERNCHECK.J",16777215,0,"EDEF:$(SYS):$(MD):PATTERNCHECK.J")
#! Field("EDEF:$(SYS):$(MD):PATTERNCHECK.X",16777215,0,"EDEF:$(SYS):$(MD):PATTERNCHECK.X")
#! Field("EDEF:$(SYS):$(MD):PATTERNCHECK.I",16777215,0,"EDEF:$(SYS):$(MD):PATTERNCHECK.I")
#! Field("EDEF:$(SYS):$(MD):PATTERNCHECK.INPB",16777215,1,"EDEF:$(SYS):$(MD):PATTERNCHECK.INPB")
#! Field("EDEF:$(SYS):$(MD):PATTERNCHECK.INPD",16777215,1,"EDEF:$(SYS):$(MD):PATTERNCHECK.INPD")
#! Field("EDEF:$(SYS):$(MD):PATTERNCHECK.INPE",16777215,1,"EDEF:$(SYS):$(MD):PATTERNCHECK.INPE")
#! Field("EDEF:$(SYS):$(MD):PATTERNCHECK.INPF",16777215,1,"EDEF:$(SYS):$(MD):PATTERNCHECK.INPF")
#! Field("EDEF:$(SYS):$(MD):PATTERNCHECK.INPG",16777215,1,"EDEF:$(SYS):$(MD):PATTERNCHECK.INPG")
#! Field("EDEF:$(SYS):$(MD):PATTERNCHECK.INPH",16777215,1,"EDEF:$(SYS):$(MD):PATTERNCHECK.INPH")
#! Field("EDEF:$(SYS):$(MD):PATTERNCHECK.INPW",16777215,1,"EDEF:$(SYS):$(MD):PATTERNCHECK.INPW")
#! Field("EDEF:$(SYS):$(MD):PATTERNCHECK.A",16777215,0,"EDEF:$(SYS):$(MD):PATTERNCHECK.A")
#! Field("EDEF:$(SYS):$(MD):PATTERNCHECK.Y",16777215,1,"EDEF:$(SYS):$(MD):PATTERNCHECK.Y")
#! Field("EDEF:$(SYS):$(MD):PATTERNCHECK.Z",16777215,1,"EDEF:$(SYS):$(MD):PATTERNCHECK.Z")
#! Field("EDEF:$(SYS):$(MD):PATTERNCHECK.DISA",16777215,0,"EDEF:$(SYS):$(MD):PATTERNCHECK.DISA")
#! Field("EDEF:$(SYS):$(MD):PATTERNCHECK.FLNK",16777215,1,"EDEF:$(SYS):$(MD):PATTERNCHECK.FLNK")
#! Link("EDEF:$(SYS):$(MD):PATTERNCHECK.FLNK","EDEF:$(SYS):$(MD):CTRLOFF")
#! Record("EDEF:$(SYS):$(MD):CTRLSEL",1200,2460,0,0,"EDEF:$(SYS):$(MD):CTRLSEL")
#! Field("EDEF:$(SYS):$(MD):CTRLSEL.FLNK",16777215,1,"EDEF:$(SYS):$(MD):CTRLSEL.FLNK")
#! Link("EDEF:$(SYS):$(MD):CTRLSEL.FLNK","EDEF:$(SYS):$(MD):CTRLFO")
#! Field("EDEF:$(SYS):$(MD):CTRLSEL.VAL",16777215,1,"EDEF:$(SYS):$(MD):CTRLSEL.VAL")
#! Field("EDEF:$(SYS):$(MD):CTRLSEL.INPB",16777215,1,"EDEF:$(SYS):$(MD):CTRLSEL.INPB")
#! Link("EDEF:$(SYS):$(MD):CTRLSEL.INPB","EDEF:$(SYS):$(MD):CTRLONTOD.PROC")
#! Field("EDEF:$(SYS):$(MD):CTRLSEL.A",16777215,0,"EDEF:$(SYS):$(MD):CTRLSEL.A")
#! Record("EDEF:$(SYS):$(MD):CTRLFO",1520,2466,0,0,"EDEF:$(SYS):$(MD):CTRLFO")
#! Field("EDEF:$(SYS):$(MD):CTRLFO.SELL",16777215,0,"EDEF:$(SYS):$(MD):CTRLFO.SELL")
#! Link("EDEF:$(SYS):$(MD):CTRLFO.SELL","EDEF:$(SYS):$(MD):CTRLSEL.VAL")
#! Field("EDEF:$(SYS):$(MD):CTRLFO.LNK2",16777215,1,"EDEF:$(SYS):$(MD):CTRLFO.LNK2")
#! Link("EDEF:$(SYS):$(MD):CTRLFO.LNK2","EDEF:$(SYS):$(MD):CTRLON")
#! Field("EDEF:$(SYS):$(MD):CTRLFO.LNK1",16777215,1,"EDEF:$(SYS):$(MD):CTRLFO.LNK1")
#! Link("EDEF:$(SYS):$(MD):CTRLFO.LNK1","EDEF:$(SYS):$(MD):DISABLE")
#! Record("EDEF:$(SYS):$(MD):CTRLON",1800,2213,0,0,"EDEF:$(SYS):$(MD):CTRLON")
#! Field("EDEF:$(SYS):$(MD):CTRLON.LNK1",16777215,1,"EDEF:$(SYS):$(MD):CTRLON.LNK1")
#! Link("EDEF:$(SYS):$(MD):CTRLON.LNK1","EDEF:$(SYS):$(MD):PATTERNCHECK.A")
#! Field("EDEF:$(SYS):$(MD):CTRLON.LNK2",16777215,1,"EDEF:$(SYS):$(MD):CTRLON.LNK2")
#! Link("EDEF:$(SYS):$(MD):CTRLON.LNK2","EDEF:$(SYS):$(MD):PATTERNCHECK.Y")
#! Field("EDEF:$(SYS):$(MD):CTRLON.LNK3",16777215,1,"EDEF:$(SYS):$(MD):CTRLON.LNK3")
#! Link("EDEF:$(SYS):$(MD):CTRLON.LNK3","EDEF:$(SYS):$(MD):PATTERNCHECK.Z")
#! Field("EDEF:$(SYS):$(MD):CTRLON.LNK4",16777215,1,"EDEF:$(SYS):$(MD):CTRLON.LNK4")
#! Link("EDEF:$(SYS):$(MD):CTRLON.LNK4","EDEF:$(SYS):$(MD):RESET.PROC")
#! Field("EDEF:$(SYS):$(MD):CTRLON.LNK5",16777215,1,"EDEF:$(SYS):$(MD):CTRLON.LNK5")
#! Link("EDEF:$(SYS):$(MD):CTRLON.LNK5","EDEF:$(SYS):$(MD):PATTERNCHECK.DISA")
#! Record("EDEF:$(SYS):$(MD):RESET",2260,2503,0,0,"EDEF:$(SYS):$(MD):RESET")
#! Field("EDEF:$(SYS):$(MD):RESET.PROC",16777215,0,"EDEF:$(SYS):$(MD):RESET.PROC")
#! Field("EDEF:$(SYS):$(MD):RESET.LNK2",16777215,0,"EDEF:$(SYS):$(MD):RESET.LNK2")
#! Field("EDEF:$(SYS):$(MD):RESET.LNK1",16777215,0,"EDEF:$(SYS):$(MD):RESET.LNK1")
#! Field("EDEF:$(SYS):$(MD):RESET.LNK3",16777215,0,"EDEF:$(SYS):$(MD):RESET.LNK3")
#! Field("EDEF:$(SYS):$(MD):RESET.LNK4",16777215,1,"EDEF:$(SYS):$(MD):RESET.LNK4")
#! Field("EDEF:$(SYS):$(MD):RESET.LNK5",16777215,1,"EDEF:$(SYS):$(MD):RESET.LNK5")
#! Field("EDEF:$(SYS):$(MD):RESET.LNK6",16777215,1,"EDEF:$(SYS):$(MD):RESET.LNK6")
#! Field("EDEF:$(SYS):$(MD):RESET.LNK7",16777215,1,"EDEF:$(SYS):$(MD):RESET.LNK7")
#! Field("EDEF:$(SYS):$(MD):RESET.LNK8",16777215,1,"EDEF:$(SYS):$(MD):RESET.LNK8")
#! Link("EDEF:$(SYS):$(MD):RESET.LNK8","EDEF:$(SYS):$(MD):PATTERNCHECK.Y")
#! Field("EDEF:$(SYS):$(MD):RESET.LNKA",16777215,1,"EDEF:$(SYS):$(MD):RESET.LNKA")
#! Record("EDEF:$(SYS):$(MD):DISABLE",1800,2920,0,0,"EDEF:$(SYS):$(MD):DISABLE")
#! Field("EDEF:$(SYS):$(MD):DISABLE.OUT",16777215,1,"EDEF:$(SYS):$(MD):DISABLE.OUT")
#! Link("EDEF:$(SYS):$(MD):DISABLE.OUT","EDEF:$(SYS):$(MD):PATTERNCHECK.DISA")
#! Record("EDEF:$(SYS):$(MD):CNT",3160,2823,0,1,"EDEF:$(SYS):$(MD):CNT")
#! Field("EDEF:$(SYS):$(MD):CNT.DOL",16777215,0,"EDEF:$(SYS):$(MD):CNT.DOL")
#! Link("EDEF:$(SYS):$(MD):CNT.DOL","EDEF:$(SYS):$(MD):PATTERNCHECK.Y")
#! Record("EDEF:$(SYS):$(MD):CTRLONTOD",1520,2680,0,0,"EDEF:$(SYS):$(MD):CTRLONTOD")
#! Field("EDEF:$(SYS):$(MD):CTRLONTOD.PROC",16777215,0,"EDEF:$(SYS):$(MD):CTRLONTOD.PROC")
#! Field("EDEF:$(SYS):$(MD):CTRLONTOD.SDIS",16777215,0,"EDEF:$(SYS):$(MD):CTRLONTOD.SDIS")
#! Link("EDEF:$(SYS):$(MD):CTRLONTOD.SDIS","EDEF:$(SYS):$(MD):CTRLSEL.VAL")
#! Record("EDEF:$(SYS):$(MD):CTRLOFF",3160,3012,0,0,"EDEF:$(SYS):$(MD):CTRLOFF")
#! Field("EDEF:$(SYS):$(MD):CTRLOFF.SDIS",16777215,0,"EDEF:$(SYS):$(MD):CTRLOFF.SDIS")
#! Link("EDEF:$(SYS):$(MD):CTRLOFF.SDIS","EDEF:$(SYS):$(MD):PATTERNCHECK.Z")
#! Field("EDEF:$(SYS):$(MD):CTRLOFF.OUT",16777215,0,"EDEF:$(SYS):$(MD):CTRLOFF.OUT")
#! Link("EDEF:$(SYS):$(MD):CTRLOFF.OUT","EDEF:$(SYS):$(MD):CTRL.VAL")
#! Record("EDEF:$(SYS):$(MD):USERNAMEFREE",400,2886,0,1,"EDEF:$(SYS):$(MD):USERNAMEFREE")
#! Field("EDEF:$(SYS):$(MD):USERNAMEFREE.OUT",16777215,1,"EDEF:$(SYS):$(MD):USERNAMEFREE.OUT")
#! Link("EDEF:$(SYS):$(MD):USERNAMEFREE.OUT","EDEF:$(SYS):$(MD):USERNAME.VAL")
#! Field("EDEF:$(SYS):$(MD):USERNAMEFREE.PROC",16777215,0,"EDEF:$(SYS):$(MD):USERNAMEFREE.PROC")
#! Record("EDEF:$(SYS):$(MD):FREE",120,2526,0,1,"EDEF:$(SYS):$(MD):FREE")
#! Field("EDEF:$(SYS):$(MD):FREE.LNK1",16777215,1,"EDEF:$(SYS):$(MD):FREE.LNK1")
#! Link("EDEF:$(SYS):$(MD):FREE.LNK1","EDEF:$(SYS):$(MD):CTRL.VAL")
#! Field("EDEF:$(SYS):$(MD):FREE.LNK2",16777215,1,"EDEF:$(SYS):$(MD):FREE.LNK2")
#! Link("EDEF:$(SYS):$(MD):FREE.LNK2","EDEF:$(SYS):$(MD):NAMEFREE.PROC")
#! Field("EDEF:$(SYS):$(MD):FREE.LNK3",16777215,1,"EDEF:$(SYS):$(MD):FREE.LNK3")
#! Link("EDEF:$(SYS):$(MD):FREE.LNK3","EDEF:$(SYS):$(MD):USERNAMEFREE.PROC")
#! Record("EDEF:$(SYS):$(MD):NAMEFREE",420,2686,0,1,"EDEF:$(SYS):$(MD):NAMEFREE")
#! Field("EDEF:$(SYS):$(MD):NAMEFREE.OUT",16777215,1,"EDEF:$(SYS):$(MD):NAMEFREE.OUT")
#! Link("EDEF:$(SYS):$(MD):NAMEFREE.OUT","EDEF:$(SYS):$(MD):NAME.VAL")
#! Field("EDEF:$(SYS):$(MD):NAMEFREE.PROC",16777215,0,"EDEF:$(SYS):$(MD):NAMEFREE.PROC")
#! Record("EDEF:$(SYS):$(MD):INCMS1",20,23,0,0,"EDEF:$(SYS):$(MD):INCMS1")
#! Record("EDEF:$(SYS):$(MD):INCMS2",260,23,0,0,"EDEF:$(SYS):$(MD):INCMS2")
#! Record("EDEF:$(SYS):$(MD):INCMS3",500,23,0,0,"EDEF:$(SYS):$(MD):INCMS3")
#! Record("EDEF:$(SYS):$(MD):INCMS4",740,23,0,0,"EDEF:$(SYS):$(MD):INCMS4")
#! Record("EDEF:$(SYS):$(MD):INCMS5",980,23,0,0,"EDEF:$(SYS):$(MD):INCMS5")
#! Record("EDEF:$(SYS):$(MD):EXCMS1",1220,23,0,0,"EDEF:$(SYS):$(MD):EXCMS1")
#! Record("EDEF:$(SYS):$(MD):EXCMS2",1460,23,0,0,"EDEF:$(SYS):$(MD):EXCMS2")
#! Record("EDEF:$(SYS):$(MD):EXCMS3",1700,23,0,0,"EDEF:$(SYS):$(MD):EXCMS3")
#! Record("EDEF:$(SYS):$(MD):EXCMS4",1940,23,0,0,"EDEF:$(SYS):$(MD):EXCMS4")
#! Record("EDEF:$(SYS):$(MD):EXCMS5",2180,23,0,0,"EDEF:$(SYS):$(MD):EXCMS5")
#! Record("EDEF:$(SYS):$(MD):PATTERNFO",3500,2493,0,0,"EDEF:$(SYS):$(MD):PATTERNFO")
#! Field("EDEF:$(SYS):$(MD):PATTERNFO.FLNK",16777215,1,"EDEF:$(SYS):$(MD):PATTERNFO.FLNK")
#! Field("EDEF:$(SYS):$(MD):PATTERNFO.LNK1",16777215,1,"EDEF:$(SYS):$(MD):PATTERNFO.LNK1")
#! Field("EDEF:$(SYS):$(MD):PATTERNFO.LNK2",16777215,1,"EDEF:$(SYS):$(MD):PATTERNFO.LNK2")
#! Field("EDEF:$(SYS):$(MD):PATTERNFO.LNK3",16777215,1,"EDEF:$(SYS):$(MD):PATTERNFO.LNK3")
#! Field("EDEF:$(SYS):$(MD):PATTERNFO.LNK4",16777215,1,"EDEF:$(SYS):$(MD):PATTERNFO.LNK4")
#! Field("EDEF:$(SYS):$(MD):PATTERNFO.LNK5",16777215,1,"EDEF:$(SYS):$(MD):PATTERNFO.LNK5")
#! Field("EDEF:$(SYS):$(MD):PATTERNFO.LNK6",16777215,1,"EDEF:$(SYS):$(MD):PATTERNFO.LNK6")
#! Field("EDEF:$(SYS):$(MD):PATTERNFO.SDIS",16777215,1,"EDEF:$(SYS):$(MD):PATTERNFO.SDIS")
#! Record("EDEF:$(SYS):$(MD):MEASSEVR",940,1648,0,1,"EDEF:$(SYS):$(MD):MEASSEVR")
#! Field("EDEF:$(SYS):$(MD):MEASSEVR.OUT",16777215,1,"EDEF:$(SYS):$(MD):MEASSEVR.OUT")
#! Record("EDEF:$(SYS):$(MD):AVGCNT",1140,1419,0,1,"EDEF:$(SYS):$(MD):AVGCNT")
#! Field("EDEF:$(SYS):$(MD):AVGCNT.OUT",16777215,1,"EDEF:$(SYS):$(MD):AVGCNT.OUT")
#! Link("EDEF:$(SYS):$(MD):AVGCNT.OUT","EDEF:$(SYS):$(MD):PATTERNCHECK.C")
#! Field("EDEF:$(SYS):$(MD):AVGCNT.VAL",16777215,1,"EDEF:$(SYS):$(MD):AVGCNT.VAL")
#! Field("EDEF:$(SYS):$(MD):AVGCNT.DOL",16777215,1,"EDEF:$(SYS):$(MD):AVGCNT.DOL")
#! Field("EDEF:$(SYS):$(MD):AVGCNT.FLNK",16777215,1,"EDEF:$(SYS):$(MD):AVGCNT.FLNK")
#! Link("EDEF:$(SYS):$(MD):AVGCNT.FLNK","EDEF:$(SYS):$(MD):CNTMAX")
#! Record("EDEF:$(SYS):$(MD):MEASCNT",1140,1719,0,1,"EDEF:$(SYS):$(MD):MEASCNT")
#! Field("EDEF:$(SYS):$(MD):MEASCNT.DOL",16777215,1,"EDEF:$(SYS):$(MD):MEASCNT.DOL")
#! Field("EDEF:$(SYS):$(MD):MEASCNT.VAL",16777215,1,"EDEF:$(SYS):$(MD):MEASCNT.VAL")
#! Field("EDEF:$(SYS):$(MD):MEASCNT.FLNK",16777215,1,"EDEF:$(SYS):$(MD):MEASCNT.FLNK")
#! Link("EDEF:$(SYS):$(MD):MEASCNT.FLNK","EDEF:$(SYS):$(MD):CNTMAX")
#! Field("EDEF:$(SYS):$(MD):MEASCNT.OUT",16777215,1,"EDEF:$(SYS):$(MD):MEASCNT.OUT")
#! Link("EDEF:$(SYS):$(MD):MEASCNT.OUT","EDEF:$(SYS):$(MD):PATTERNCHECK.X")
#! Record("EDEF:$(SYS):$(MD):CNTMAX",1520,1668,0,0,"EDEF:$(SYS):$(MD):CNTMAX")
#! Field("EDEF:$(SYS):$(MD):CNTMAX.INPA",16777215,0,"EDEF:$(SYS):$(MD):CNTMAX.INPA")
#! Link("EDEF:$(SYS):$(MD):CNTMAX.INPA","EDEF:$(SYS):$(MD):AVGCNT.VAL")
#! Field("EDEF:$(SYS):$(MD):CNTMAX.INPB",16777215,0,"EDEF:$(SYS):$(MD):CNTMAX.INPB")
#! Link("EDEF:$(SYS):$(MD):CNTMAX.INPB","EDEF:$(SYS):$(MD):MEASCNT.VAL")
#! Field("EDEF:$(SYS):$(MD):CNTMAX.OUT",16777215,1,"EDEF:$(SYS):$(MD):CNTMAX.OUT")
#! Link("EDEF:$(SYS):$(MD):CNTMAX.OUT","EDEF:$(SYS):$(MD):PATTERNCHECK.J")
#! TextBox(TB0,2740,2400,3020,2460,0,"Dialog",22,1,16777215,"360 Hz Processing",null)
#! TextBox(TB7,3040,2400,3500,2820,0,"Dialog",13,0,16777215,"EDEF:$(SYS):$(MD):PATTERNCHECK\nOutputs:\nDONE\nMEASCNT\nVAL  = pattern match =1/ no match=0 flag for \n            or EDEF:$(SYS):$(MD):CNT\n       (SDIS sets DISA which is compared to DISV=0)\n       (   when DISA=DISV, record is disabled)\n\n//Process next (VAL=1) & BEAMCODE, INCL, EXCL match:\nVAL=0;\n   if  (pattern BEAMCODE == EDEF BEAMCODE) \n    {\n       if (EDEF INCLUSION1-4 & pattern MODIFIER1-4 == EDEF INCLUSION1-5) {\n          if (EDEF EXCLUSION1-4 & pattern MODIFIER1-4 ==0) {\n              VAL= 1;\n              Z++;\n          }\n       }\n    } \nreturn(0)\n",null)
#! TextBox(TB10,220,2300,740,2500,0,"Dialog",12,1,16777215,"A client will request an EDEF by filling out the EDEFUSERNAME.\nNote: client must ensure that USERNAME is unique and doesn't\nalready have an EDEF assignment.\nEDEFRESERVE inputs this name, and if there is a slot avail, places in \nappropriate EDEF:$(SYS):$(MDID):USERNAME.\n\nThe client, after a delay, checks all the EDEF:$(SYS):$(MDID):USERNAMEs for \nrequested EDEFUSERNAME. If it exists in a slot, the client has successfully \nreserved that slot.\n\nTo release the EDEF, the user sets FREE",null)
#! TextBox(TB5,1540,1360,2000,1560,0,"Dialog",13,0,16777215,"MACROS:\nSYS = System ID (SYS0 for production, SYS0, SYS1, SYS2, SYS3 for development)\nMD = event definition number\nInitial Value Macros:\n  NAVG = Number to Average\n  NMEAS = Number to measure\n  CTRL  = Initially OFF (0) or ON (1)\n  USER = Initial User ID\n  NAME = Event def name\n  MODE = User (0) or System (1) \n",null)
#! TextBox(TB4,560,2160,800,2220,0,"Dialog",22,1,16777215,"Client Processing",null)
#! TextBox(TB3,1640,1400,960,1320,0,"Dialog",22,1,16777215,"Event Definitions (EDEFs) and 360 Hz Processing\nfor Beam Synchronous Acquisition (BSA)",null)
#! TextBox(TB2,380,1480,920,1840,0,"Dialog",12,1,16777215,"CA user:\nRequests EDEF, supplies NAME\n\nReservation Sequence:\nReserves an EDEF for HLA by finding a vacant NAME and populating\nSets INIT record so that bsadevices can clear their history waveforms,\n  thereby invalidating prior EDEF\n\nCA user:\nUpon finding NAME, configures assigned EDEF with masks, etc\nSets CTRL to ON\n\nDatabase:\nUpon CTRL ON (set by CA user):\nSets RESET input to PATTERNCHECK so that it will reset next time around\nWait 3 seconds to ensure all bsads to clear waveforms\nEnable PATTERNCHECK\nOFF (set by PATTERNCHECK when done):\nDisable PATTERNCHECK\n",null)
#! TextBox(TB1,880,2360,1180,2420,0,"Dialog",13,0,16777215,"CTRL  set ON by HLA or CA user.\nCTRL set OFF by PATTERNCHECK being done\n ",null)
