#! Generated by VisualDCT v2.5
#! DBDSTART
#! DBD("../../dbd/edef.dbd")
#! DBDEND


record(sSub, "$(DEV):$(SECN)$(MDID)") {
  field(DESC, "$(SECN) Avg for EDEF $(MDID)")
  field(INPA, "$(DEV):$(SECN)")
  field(INPB, "EDEF:$(IOC):$(MD):AVGCNTMAX CA")
  field(INPC, "$(EIOC):MODIFIER5$(BIT)")
  field(TSEL, "$(DEV):$(SECN).TIME")
  field(EGU, "$(EGU)")
  field(HOPR, "$(HOPR)")
  field(LOPR, "$(LOPR)")
  field(PREC, "$(PREC)")
  field(ADEL, "$(ADEL)")
  field(MDEL, "$(MDEL)")
  field(INAM, "bsaInit")
  field(SNAM, "bsaSecnAvg")
  field(BRSV, "INVALID")
  field(DISV, "0")
  field(SDIS, "$(EIOC):MODIFIER5$(BIT)")
  field(FLNK, "$(DEV):$(SECN)HST$(MDID)")
  field(INPD, "$(DEV):STATUS")
  field(INPE, "$(DEV):STATUS.L")
  field(INPF, "$(EIOC):PULSEID")
}

record(compress, "$(DEV):$(SECN)HST$(MDID)") {
  field(DESC, "$(SECN) Hst for EDEF $(MDID)")
  field(INP, "$(DEV):$(SECN)$(MDID)")
  field(ALG, "Circular Buffer")
  field(NSAM, "2800")
  field(HOPR, "$(HOPR)")
  field(LOPR, "$(LOPR)")
  field(PREC, "$(PREC)")
  field(EGU, "$(EGU)")
  field(TSEL, "$(DEV):$(SECN).TIME")
  field(DISV, "0")
  field(SDIS, "$(DEV):$(SECN)$(MDID).X")
}

record(seq, "$(DEV):$(SECN)RES$(MD)") {
  field(DESC, "EDEF $(MDID) Reset Seq")
  field(SELM, "All")
  field(LNK3, "$(DEV):$(SECN)HST$(MDID).RES")
  field(SDIS, "EDEF:$(IOC):$(MD):INIT CPP")
  field(DOL1, "1")
  field(LNK1, "$(DEV):$(SECN)$(MDID).O")
  field(LNK2, "$(DEV):$(SECN)CNT$(MDID)")
  field(DISV, "0")
}


record(longout, "$(DEV):$(SECN)CNT$(MDID)") {
  field(DESC, "Actual Meas Count")
  field(SCAN, "1 second")
  field(DOL, "$(DEV):$(SECN)$(MDID).Y")
  field(HOPR, "280000")
  field(LOPR, "0")
  field(MDEL, "-1")
}

#! Further lines contain data used by VisualDCT
#! View(2098,2537,1.1)
#! Record("$(DEV):$(SECN)$(MDID)",2398,2487,0,0,"$(DEV):$(SECN)$(MDID)")
#! Field("$(DEV):$(SECN)$(MDID).INPA",16777215,1,"$(DEV):$(SECN)$(MDID).INPA")
#! Field("$(DEV):$(SECN)$(MDID).INPB",16777215,0,"$(DEV):$(SECN)$(MDID).INPB")
#! Field("$(DEV):$(SECN)$(MDID).INPC",16777215,0,"$(DEV):$(SECN)$(MDID).INPC")
#! Field("$(DEV):$(SECN)$(MDID).TSEL",16777215,1,"$(DEV):$(SECN)$(MDID).TSEL")
#! Field("$(DEV):$(SECN)$(MDID).VAL",16777215,1,"$(DEV):$(SECN)$(MDID).VAL")
#! Field("$(DEV):$(SECN)$(MDID).INPD",16777215,1,"$(DEV):$(SECN)$(MDID).INPD")
#! Field("$(DEV):$(SECN)$(MDID).INPE",16777215,1,"$(DEV):$(SECN)$(MDID).INPE")
#! Field("$(DEV):$(SECN)$(MDID).SDIS",16777215,1,"$(DEV):$(SECN)$(MDID).SDIS")
#! Field("$(DEV):$(SECN)$(MDID).FLNK",16777215,1,"$(DEV):$(SECN)$(MDID).FLNK")
#! Link("$(DEV):$(SECN)$(MDID).FLNK","$(DEV):$(SECN)HST$(MDID)")
#! Field("$(DEV):$(SECN)$(MDID).O",16777215,0,"$(DEV):$(SECN)$(MDID).O")
#! Field("$(DEV):$(SECN)$(MDID).INPF",16777215,1,"$(DEV):$(SECN)$(MDID).INPF")
#! Field("$(DEV):$(SECN)$(MDID).X",16777215,1,"$(DEV):$(SECN)$(MDID).X")
#! Field("$(DEV):$(SECN)$(MDID).Y",16777215,0,"$(DEV):$(SECN)$(MDID).Y")
#! Record("$(DEV):$(SECN)HST$(MDID)",2743,2401,0,0,"$(DEV):$(SECN)HST$(MDID)")
#! Field("$(DEV):$(SECN)HST$(MDID).INP",16777215,0,"$(DEV):$(SECN)HST$(MDID).INP")
#! Link("$(DEV):$(SECN)HST$(MDID).INP","$(DEV):$(SECN)$(MDID).VAL")
#! Field("$(DEV):$(SECN)HST$(MDID).TSEL",16777215,1,"$(DEV):$(SECN)HST$(MDID).TSEL")
#! Field("$(DEV):$(SECN)HST$(MDID).RES",16777215,0,"$(DEV):$(SECN)HST$(MDID).RES")
#! Field("$(DEV):$(SECN)HST$(MDID).SDIS",16777215,0,"$(DEV):$(SECN)HST$(MDID).SDIS")
#! Link("$(DEV):$(SECN)HST$(MDID).SDIS","$(DEV):$(SECN)$(MDID).X")
#! Record("$(DEV):$(SECN)RES$(MD)",2058,2264,0,0,"$(DEV):$(SECN)RES$(MD)")
#! Field("$(DEV):$(SECN)RES$(MD).LNK3",16777215,1,"$(DEV):$(SECN)RES$(MD).LNK3")
#! Link("$(DEV):$(SECN)RES$(MD).LNK3","$(DEV):$(SECN)HST$(MDID).RES")
#! Field("$(DEV):$(SECN)RES$(MD).SDIS",16777215,1,"$(DEV):$(SECN)RES$(MD).SDIS")
#! Field("$(DEV):$(SECN)RES$(MD).LNK1",16777215,1,"$(DEV):$(SECN)RES$(MD).LNK1")
#! Link("$(DEV):$(SECN)RES$(MD).LNK1","$(DEV):$(SECN)$(MDID).O")
#! Field("$(DEV):$(SECN)RES$(MD).LNK2",16777215,0,"$(DEV):$(SECN)RES$(MD).LNK2")
#! Link("$(DEV):$(SECN)RES$(MD).LNK2","$(DEV):$(SECN)CNT$(MDID).VAL")
#! Visibility("$(DEV):$(SECN)RES$(MD).LNK2",1)
#! TextBox(TB0,2710,2754,2985,3005,0,"Dialog",12,1,16777215,"$(DEV):$(SECN)$(MDID) Outputs:\nH = Variance used in RMX\nI = B -1\nJ = B-2\nK =A-previous VAL\nL = RMS val when avg is done\nM=goodmeas count\nN=first time flag (0)\nO=reset counters, vals\nP=EPICS stat for avg\nQ=EPICS sevr for avg\nW = Timestamp mismatch\nVAL = running avg",null)
#! TextBox(TB4,2638,2162,2937,2363,0,"Dialog",12,1,16777215,"Macros:\nDEV = PRIM:LOCA:UNIT\nMDID= measdef number / ID \nSECN = for BPMS- TMIT, X, Y\n            = for TORO- TMIT\nEGU = Engineering Units \nHOPR, LOPR  =High and Low Operating Limits\nPREC = Precision (# after the decimal point)\nADEL = Archive Delta Amount\nMDEL = Monitor Delta Amount",null)
#! TextBox(TB3,2053,2175,2493,2255,0,"Dialog",14,1,16777215,"Secondary processing \n  Computes avg, rms vals per Secondary per unit per EDEF   \n  Secondaries X, Y, TMIT\n",null)
#! Record("$(DEV):$(SECN)CNT$(MDID)",1985,2613,0,1,"$(DEV):$(SECN)CNT$(MDID)")
#! Field("$(DEV):$(SECN)CNT$(MDID).DOL",16777215,1,"$(DEV):$(SECN)CNT$(MDID).DOL")
#! Link("$(DEV):$(SECN)CNT$(MDID).DOL","$(DEV):$(SECN)$(MDID).Y")
#! Field("$(DEV):$(SECN)CNT$(MDID).VAL",16777215,0,"$(DEV):$(SECN)CNT$(MDID).VAL")
