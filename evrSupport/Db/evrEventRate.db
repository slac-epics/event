record(event, "IOC:$(LOCA):$(UNIT):$(NAME)") {
  field(DESC, "IOC $(NAME)")
  field(DTYP, "MRF Event Receiver")
  field(INP, "#C$(CARD) S$(ID) @")
  field(SCAN, "I/O Intr")
  field(PRIO, "HIGH")
  field(VAL,  "$(ID)")
  field(FLNK, "$(FLNK)")
}
record(calc, "IOC:$(LOCA):$(UNIT):$(NAME)CNTFAST") {
  field(DESC, "IOC $(NAME) Fast Counter")
  field(SCAN, "Event")
  field(EVNT, "$(ID)")
  field(INPA, "IOC:$(LOCA):$(UNIT):$(NAME)CNTFAST")
  field(CALC, "A+1")
}
record(ai, "IOC:$(LOCA):$(UNIT):$(NAME)CNT") {
  field(DESC, "IOC $(NAME) Counter")
  field(INP,  "IOC:$(LOCA):$(UNIT):$(NAME)CNTFAST")
  field(FLNK, "IOC:$(LOCA):$(UNIT):$(NAME)RATE")
  field(SCAN, "1 second")
}
record(calc, "IOC:$(LOCA):$(UNIT):$(NAME)RATE") {
  field(DESC, "IOC $(NAME) Rate")
  field(INPA, "IOC:$(LOCA):$(UNIT):$(NAME)RATE.B")
  field(INPB, "IOC:$(LOCA):$(UNIT):$(NAME)CNT")
  field(CALC, "B-A")
  field(EGU,  "Hz")
}
